name: 'Terraform Format (fmt)'
description: 'This action uses the `terraform fmt` command to check that all terraform files in a terraform configuration directory are in the canonical format.'
author: 'Benoit Blais'

inputs:
  target:
    description: 'Target to the terraform configuration. Defaults to the root of the GitHub repository.'
    required: false
    type: string
  recursive:
    description: 'Also process files in subdirectories. By default, only the given directory (or current directory) is processed. Defaults to true.'
    required: false
    default: true
    type: boolean
  comment:
    description: 'Whether or not to comment on GitHub pull requests. Defaults to true.'
    required: false
    default: true
    type: boolean
    
runs:
  using: "composite"
  steps:
    - id: BashScript
      shell: bash
      run: bash ${{ github.action_path }}/main.sh
      env:
        INPUT_TARGET: ${{ inputs.target }}
        INPUT_RECURSIVE: ${{ inputs.recursive }}
        INPUT_COMMENT: ${{ inputs.comment }}
        